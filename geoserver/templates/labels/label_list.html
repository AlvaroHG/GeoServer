{% extends "base.html" %}
{% block title %} Questions {% endblock %}
{% block content %}
	<h2>Questions</h2>
	<p>
		<a href="{% url 'questions-upload' %}">Upload a question</a>
		<a href="{% url 'questions-update_all' %}">Update all</a>
	</p>
	<table border="1">
		<tr>
			<th>ID</th>
			<th>Text</th>
			<th>Diagram</th>
			<th>Choices</th>
			<th>Valid?</th>
			<th>Answer</th>
			<th>Tags</th>
			<th>Actions</th>
		</tr>
		{% for question in question_list %}
			<tr>
				<td>{{ question.pk }}</td>
				<td>{{ question.text }}</td>
				<td>
				{% if question.diagram != '' %}
					<img src="{{ question.diagram.url }}">
				{% endif %}
				</td>
				<td>
					<ol>
					{% for choice in question.choices.all %}
						<li>{{ choice.text }}</li>
					{% endfor %}
					</ol>
				</td>
				<td>{{ question.valid }}</td>
				<td>
				{% if question.answer %}
					{{ question.answer }}
				{% endif %}
				</td>
				<td>
					{% for tag in question.tags.all %}
					{{ tag }} 
					{% endfor %}
				</td>
				<td>
					<a href="{% url 'questions-detail' question.pk %}">detail</a>
					<a href="{% url 'questions-update' question.pk %}">update</a>
					<a href="{% url 'questions-delete' question.pk %}">delete</a>
				</td>
			</tr>
		{% endfor %}
	</table>
{% endblock %}